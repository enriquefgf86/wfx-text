<div class="table-responsive">
  <table class="table  table-striped tableColor mt-4" >
    <thead  class="tableHeadColor">
      <tr>
        <th class="text-center" *ngFor="let title of headers">{{title}}</th>
      </tr>
    </thead>
    <tbody class='text-center'>
      <ng-container *ngFor="let obj of countries;let i=index" data-toggle="collapse" data-target="#demo"
        class="accordion-toggle">
        <tr >
          <td class='d-flex justify-content-center'>{{obj.title}}</td>
          <td>{{obj.content}}</td>
          <td class='d-flex flex-row justify-content-center'>
            <button mat-icon-button>
              <mat-icon (click)="obj.expanded = !obj.expanded" *ngIf="!obj.expanded"><img src="../../../assets/down.svg"
                  class='imgLikeIcon' alt="arrow">
              </mat-icon>

              <mat-icon (click)="obj.expanded = !obj.expanded" *ngIf="obj.expanded"><img src="../../../assets/up.svg"
                  class='imgLikeIcon' alt="arrow">
              </mat-icon>
            </button>
            <button mat-icon-button >
              <mat-icon  ><img (click)="delete($event)" [id]='obj.id' src="../../../assets/bin.png"
                class='imgLikeIcon' alt="arrow"></mat-icon>
            </button>
            <button mat-icon-button>
              <mat-icon >
                <img [id]='obj.id' (click)="openEditPost($event)" src="../../../assets/edit.png"
                  class='imgLikeIcon' alt="arrow">
              </mat-icon>
            </button>
            <button mat-icon-button routerLink='/pages/page4/{{obj.id}}'>
              <mat-icon [id]='obj.id'>
                <img src="../../../assets/map.png"
                  class='imgLikeIcon' alt="arrow">
              </mat-icon>
            </button>
          </td>
        </tr>
        <ng-container *ngIf="obj.expanded">
          <tr class=' text-center tableHeadColor'>
            <th class='text-center'>Preview</th>
            <th class='text-center' >Lat/Long</th>
            <th class='text-center'>Dates</th>
            <!-- <th class='text-center' colspan="2">Updated</th> -->
          </tr>
          <tr *ngFor="let details of expand(obj)">
            <td><img [src]="obj.image_url" class='miniMap' alt="img"></td>
            <td class='text-center'>
          <tr style='display:flex;justify-content:center'>
            <td>
              <mat-chip-list>
                <mat-chip class='chipColor' color='primary'>Latitude</mat-chip>
              </mat-chip-list>
            </td>
            <td>
              <mat-chip-list>
                <mat-chip class='chipColor' color='primary'>{{obj.lat}}</mat-chip>
              </mat-chip-list>
            </td>
          </tr>
          <tr style='display:flex;justify-content:center'>
            <td>
              <mat-chip-list>
                <mat-chip class='chipColor' color='primary'>Longitude</mat-chip>
              </mat-chip-list>
            </td>
            <td>
              <mat-chip-list>
                <mat-chip class='chipColor' color='primary'>{{obj.long}}</mat-chip>
              </mat-chip-list>
            </td>
          </tr>
          </td>

          <td class='text-center'>
            <tr style='display:flex;justify-content:center'>
              <td>
                <mat-chip-list>
                  <mat-chip class='chipColor' color='primary'>Created</mat-chip>
                </mat-chip-list>
              </td>
              <td>
                <mat-chip-list>
                  <mat-chip class='chipColor' color='primary'>{{obj.created_at|date:'dd/MM/yyyy'}}</mat-chip>
                </mat-chip-list>
              </td>
            </tr>
            <tr style='display:flex;justify-content:center'>
              <td>
                <mat-chip-list>
                  <mat-chip class='chipColor' color='primary'>Updated</mat-chip>
                </mat-chip-list>
              </td>
              <td>
                <mat-chip-list>
                  <mat-chip class='chipColor' color='primary'>{{obj.updated_at|date:'dd/MM/yyyy'}}</mat-chip>
                </mat-chip-list>
              </td>
            </tr>
          </td>

          <!-- <td>{{obj.content}}</td> -->
          </tr>
        </ng-container>
      </ng-container>


    </tbody>
  </table>

  <div class="d-flex justify-content-between p-2">
    <ngb-pagination [collectionSize]="collectionSize" [(page)]="page" [pageSize]="pageSize" (pageChange)="refreshCountries()">
    </ngb-pagination>

    <button mat-raised-button class='buttonPoss chipColor1' (click)="openCreateCoord()">Add Post</button>

    <select class="custom-select" style="width: auto" [(ngModel)]="pageSize" (ngModelChange)="refreshCountries()">
      <option [ngValue]="2">2 items per page</option>
      <option [ngValue]="4">4 items per page</option>
      <option [ngValue]="6">6 items per page</option>
      <option [ngValue]="7">7 items per page</option>
      <option [ngValue]="10">10 items per page</option>
    </select>
  </div>
